<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Clip Timeline Feature</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <header class="top-header">
            <div class="video-title-section">
                <h2>Test Clip Timeline with Draggable Handles</h2>
            </div>
        </header>

        <div class="main-area">
            <div class="properties-section" style="width: 100%;">
                <div class="properties-header">Test Instructions</div>
                <div class="properties-content" style="padding: 20px;">
                    <div style="background: #e7f3ff; border-left: 4px solid #2196F3; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
                        <p style="margin: 0 0 10px 0; color: #1976D2; font-size: 14px;">
                            <i class="fas fa-info-circle"></i> <strong>Timeline Features:</strong>
                        </p>
                        <ul style="margin: 0; padding-left: 20px; color: #1976D2; font-size: 13px;">
                            <li><strong>Left Handle (White):</strong> Drag to adjust the BEGIN parameter (where to start extracting from source video)</li>
                            <li><strong>Right Handle (White):</strong> Drag to adjust the DURATION parameter (how long the clip lasts)</li>
                            <li><strong>Middle (Blue Block):</strong> Drag to slide the entire selection (changes BEGIN, keeps DURATION same)</li>
                            <li><strong>Real-time Preview:</strong> Video player seeks to the new BEGIN position as you drag</li>
                            <li><strong>Time Ruler:</strong> Shows the source video duration with time markers</li>
                        </ul>
                    </div>
                    
                    <button onclick="loadTestClip()" style="padding: 12px 24px; background: #4a90e2; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; margin-bottom: 20px;">
                        <i class="fas fa-play-circle"></i> Load Test Clip & Open Editor
                    </button>
                    
                    <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 4px;">
                        <p style="margin: 0; color: #856404; font-size: 13px;">
                            <i class="fas fa-lightbulb"></i> <strong>Test Steps:</strong><br>
                            1. Click "Load Test Clip & Open Editor" button<br>
                            2. The video edit modal will open with a visual timeline<br>
                            3. Try dragging the left handle to change where the clip starts<br>
                            4. Try dragging the right handle to change the clip duration<br>
                            5. Try dragging the middle blue block to slide the selection<br>
                            6. Watch the video player update in real-time as you drag<br>
                            7. The form inputs (Begin, Duration) update automatically
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // Initialize video editor
        const videoEditor = new VideoEditor();
        
        function loadTestClip() {
            // Load test data with a clip
            const testData = {
                quote: "Test clip with visual timeline",
                author: "Test Author",
                audioUrl: "https://example.com/audio.mp3",
                clips: [
                    {
                        videourl: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
                        description: "Big Buck Bunny test video",
                        begin: 10,
                        start: 0,
                        duration: 8,
                        volume: 100
                    }
                ]
            };
            
            videoEditor.loadData(testData, "Test Data with Timeline");
            
            // Wait a moment for data to load, then open the clip editor
            setTimeout(() => {
                videoEditor.editVideoClip(0);
                console.log('âœ… Test clip loaded and editor opened');
                console.log('ðŸŽ¯ Try dragging the timeline handles to adjust begin and duration');
            }, 500);
        }
    </script>
</body>
</html>
